(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){e.exports=a(60)},60:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(18),o=a.n(r),i=a(8),c=a(9),s=a(11),u=a(10),m=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={time:(new Date).toLocaleString(),season:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval((function(){return e.tick()}),1e3);var t=(new Date).getMonth();console.log("current month is "+t);var a="";switch(!0){case t<=3:a="winter";break;case t>3&&t<=6:a="spring";break;case t>6&&t<=9:a="summer";break;case t>9:a="fall";break;default:a="all time"}console.log("current season is "+a),this.setState({season:a})}},{key:"tick",value:function(){this.setState({time:(new Date).toLocaleString()})}},{key:"render",value:function(){return l.a.createElement("div",{className:"heading-container"},l.a.createElement("p",null),l.a.createElement("div",{className:"title"},l.a.createElement("p",null,this.state.season," movie list")),l.a.createElement("div",{className:"curr-time"},l.a.createElement("p",null,this.state.time)),l.a.createElement("p",null))}}]),a}(l.a.Component),d=a(12),p=a.n(d),v=a(17),f=a(6),b=a(14),E=a(15),g=a(20),h=a(16),k=a(33),y=a.n(k).a.create({baseURL:"https://film4seasons.herokuapp.com/api"}),w={insertMovie:function(e){return y.post("/movie",e)},getAllMovies:function(e){return y.get("/movies",e)},updateMovieById:function(e,t){return y.put("/movie/".concat(e),t)},deleteMovieById:function(e){return y.delete("/movie/".concat(e))},getMovieById:function(e){return y.get("/movie/".concat(e))}},N=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(v.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getAllMovies().then((function(e){n.setState({movies:e.data.data})}));case 2:case"end":return e.stop()}}),e)}))),n.state={inputName:"",inputSeason:""},n.postNewMovie=n.postNewMovie.bind(Object(f.a)(n)),n.updateInputName=n.updateInputName.bind(Object(f.a)(n)),n.updateInputSeason=n.updateInputSeason.bind(Object(f.a)(n)),n}return Object(c.a)(a,[{key:"postNewMovie",value:function(e,t){var a={name:e,season:t,verification:!1};w.insertMovie(a).then((function(e){return window.location.reload(!1)}))}},{key:"updateInputName",value:function(e){this.setState({inputName:e.target.value})}},{key:"updateInputSeason",value:function(e){this.setState({inputSeason:e.target.value})}},{key:"render",value:function(){var e=this;return l.a.createElement(b.a,null,l.a.createElement(E.a,{bsPrefix:"movie"},l.a.createElement(E.a.Header,{bsPrefix:"title-link"},l.a.createElement(b.a.Toggle,{bsPrefix:"title-link",as:g.a,variant:"link",eventKey:"1"},"recommend a movie")),l.a.createElement(b.a.Collapse,{bsPrefix:"info",eventKey:"1"},l.a.createElement(E.a.Body,{bsPrefix:"recommend-form"},l.a.createElement(h.a,null,l.a.createElement(h.a.Group,{controlId:"formGroupMovieName"},l.a.createElement(h.a.Label,null,"movie name"),l.a.createElement(h.a.Control,{value:this.state.inputName,onChange:function(t){return e.updateInputName(t)},type:"text",placeholder:"is this not what you want? let me know your movie selection!"})),l.a.createElement(h.a.Group,{controlId:"formGroupSeason"},l.a.createElement(h.a.Label,null,"Season"),l.a.createElement(h.a.Control,{value:this.state.inputSeason,onChange:function(t){return e.updateInputSeason(t)},as:"select",custom:!0},l.a.createElement("option",null,"- when is the best time to watch it? -"),l.a.createElement("option",null,"spring"),l.a.createElement("option",null,"summer"),l.a.createElement("option",null,"autumn"),l.a.createElement("option",null,"winter")))),l.a.createElement("button",{onClick:function(){return e.postNewMovie(e.state.inputName,e.state.inputSeason)},className:"btn btn-dark"},"post")))))}}]),a}(l.a.Component),j=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(v.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(new Date).getMonth(),console.log("current month is "+t),a="",e.t0=!0,e.next=e.t0===t<=3?6:e.t0===(t>3&&t<=6)?8:e.t0===(t>6&&t<=9)?10:e.t0===t>9?12:14;break;case 6:return a="winter",e.abrupt("break",15);case 8:return a="spring",e.abrupt("break",15);case 10:return a="summer",e.abrupt("break",15);case 12:return a="fall",e.abrupt("break",15);case 14:a="all time";case 15:return n.setState({season:a}),e.next=18,w.getAllMovies({verification:!0,season:n.state.season}).then((function(e){n.setState({movies:e.data.data})}));case 18:case"end":return e.stop()}}),e)}))),n.increase=n.increase.bind(Object(f.a)(n)),n.playVideo=n.playVideo.bind(Object(f.a)(n)),n.state={count:0,movies:[],season:""},n}return Object(c.a)(a,[{key:"increase",value:function(e){console.log(e),document.getElementById("like-count-"+e).textContent++,document.getElementById("like-button-"+e).style.color="#5ab3e6",w.updateMovieById(e,{likeCount:document.getElementById("like-count-"+e).textContent})}},{key:"playVideo",value:function(e){var t=document.getElementById("video-"+e);document.querySelectorAll("video").forEach((function(e){e.pause(),e.style.display="none"})),t.style.display="inline-block",t.play()}},{key:"render",value:function(){var e=this.state.movies;console.log("TCL: MoviesList -> render -> movies",e);var t=e.map(function(e,t){var a=this,n="images/"+t+".png";return l.a.createElement(b.a,{key:t},l.a.createElement(E.a,{bsPrefix:"movie"},l.a.createElement(E.a.Header,{bsPrefix:"title-link"},l.a.createElement(b.a.Toggle,{onMouseOver:function(){return a.playVideo(e._id)},bsPrefix:"title-link",as:g.a,variant:"link",eventKey:"1"},e.name)),l.a.createElement(b.a.Collapse,{bsPrefix:"info",eventKey:"1"},l.a.createElement(E.a.Body,{bsPrefix:"info-line"},l.a.createElement("img",{className:"movie-image",src:n,alt:""}),l.a.createElement("p",null,e.releaseDate," | ",e.genre),l.a.createElement("p",null,"director | ",e.director),l.a.createElement("p",null,"plot | ",e.plot),l.a.createElement("p",null,"review | ",e.reviews),l.a.createElement("label",{id:"like-count-"+e._id}," ",e.likeCount," "),l.a.createElement("button",{id:"like-button-"+e._id,className:"like-button",onClick:function(){return a.increase(e._id)}},"\u2665\ufe0e")))))}.bind(this));return l.a.createElement("div",{className:"col col-12 col-lg-4 col-sm-6 block-left"},t,l.a.createElement(N,null))}}]),a}(l.a.Component),O=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(v.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getAllMovies().then((function(e){n.setState({movies:e.data.data})}));case 2:case"end":return e.stop()}}),e)}))),n.state={movies:[]},n.endVideo=n.endVideo.bind(Object(f.a)(n)),n}return Object(c.a)(a,[{key:"endVideo",value:function(e){document.getElementById("video-"+e).style.display="none"}},{key:"render",value:function(){var e=this.state.movies.map(function(e,t){var a=this,n="/videos/".concat(t,".mp4");return l.a.createElement("div",{className:"video",key:t},l.a.createElement("video",{src:n,muted:!0,id:"video-"+e._id,onEnded:function(){return a.endVideo(e._id)}}))}.bind(this));return l.a.createElement("div",{className:"col col-lg-9 block-middle"},l.a.createElement("div",{className:"inner-border"},e),l.a.createElement("div",{id:"scene"},l.a.createElement("img",{className:"image1","data-depth":"0.9",src:"images/green.png",alt:""}),l.a.createElement("img",{className:"image2","data-depth":"0.7",src:"images/fish-can.png",alt:""}),l.a.createElement("img",{className:"image3","data-depth":"0.5",src:"images/bird.png",alt:""})))}}]),a}(l.a.Component);var x=function(){return l.a.createElement("div",{className:"col-12 col-lg-3 block-right"},l.a.createElement("div",{className:"quote"},l.a.createElement("i",{className:"fas fa-quote-left fa-3x fa-rotate-90"}),l.a.createElement("h2",null,"\u800c\u6700\u91cd\u8981\u7684\u662f \u590f\u5929\u65e9\u665a\u8981\u904e\u53bb\u4e86 \u65e9\u6668\u8ddf\u8457\u65e9\u6668 \u7136\u5f8c\u4f60\u5011\u5c31\u6703\u8aaa \u8aaa\u6574\u500b\u79cb\u5929\u7684\u58de\u8a71 \u61f7\u5ff5\u6628\u591c\uff0c\u60f3\u8457\u4eca\u591c \u6bd4\u591c\u66f4\u71e6\u721b\u7684\u662f\u6c92\u6709\u7684\u4e86 \u7159\u82b1\u5531\u8457 \u6a58\u9ec3\u7684\u7a97\u5916\u6709\u4eba\u5531\u8457")))};var I=function(){return l.a.createElement("div",{className:"row footer"},l.a.createElement("div",{className:"col-6 col-md-4 col-sm-12 newsletter"},l.a.createElement("p",null,"newsletter"),l.a.createElement("div",{id:"signin-form",className:"newsletter-signin flexbox"},l.a.createElement("input",{id:"email-input",type:"email",name:"email",placeholder:"email"}),l.a.createElement("button",{className:"button",onClick:function(){document.getElementById("email-input").value?document.getElementById("signin-form").textContent="You're in!":document.getElementById("email-input").placeholder="please enter your email"}},"\u2192"))),l.a.createElement("div",{className:"col-12 col-md-8 col-sm-12 contact"},l.a.createElement("p",null,"created by Venessa Liu"),l.a.createElement("a",{href:"mailto:venessa7599@gmail.com"},"venessa7599@gmail.com"),l.a.createElement("p",null,"more works @ ",l.a.createElement("a",{href:"http://www.venessaliu.com"},"www.venessaliu.com"))))};var M=function(){var e=w.getAllMovies;return console.log(e),l.a.createElement("div",{className:"row content-container"},l.a.createElement(j,null),l.a.createElement("div",{className:"col-lg-8 col-sm-6 block-middle-right"},l.a.createElement("div",{className:"row block-upper-right"},l.a.createElement(O,null),l.a.createElement(x,null)),l.a.createElement(I,null)))},C=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.src="scripts.js",e.async=!0,document.body.appendChild(e)}},{key:"render",value:function(){return l.a.createElement("div",{style:{height:"100%"}},l.a.createElement(m,null),l.a.createElement(M,null))}}]),a}(l.a.Component);o.a.render(l.a.createElement(C,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.2208b753.chunk.js.map